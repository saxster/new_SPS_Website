---
import Layout from '../../layouts/Layout.astro';
import { SignIn } from '@clerk/astro/components';

const title = "Sign In | SPS Security Intelligence";
const description = "Access your personalized threat intelligence dashboard.";
---

<Layout title={title} description={description}>
  <section class="min-h-screen flex items-center justify-center bg-gradient-radial bg-noise relative overflow-hidden py-20">
    <!-- Decorative Grid Background -->
    <div class="absolute inset-0 bg-grid-pattern opacity-20"></div>

    <div class="relative z-10 w-full max-w-md px-4">
      <!-- Header -->
      <div class="text-center mb-8">
        <a href="/" class="inline-block mb-6">
          <img
            src="/sps-logo.png"
            alt="SPS"
            class="w-16 h-16 mx-auto"
          />
        </a>
        <h1 class="text-heading-2 text-primary-accent mb-2">SECURE ACCESS</h1>
        <p class="text-body text-neutral-400 font-mono text-sm tracking-wider">
          ENTER YOUR CREDENTIALS
        </p>
      </div>

      <!-- Clerk SignIn Component -->
      <div class="clerk-auth-container">
        <SignIn
          routing="path"
          path="/sign-in"
          signUpUrl="/sign-up"
          afterSignInUrl="/dashboard"
        />
      </div>

      <!-- Back Link -->
      <div class="text-center mt-8">
        <a
          href="/"
          class="text-sm font-mono text-neutral-500 hover:text-primary-accent transition-colors"
        >
          &larr; RETURN TO HOME
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Override Clerk's default styling to match brutalist theme */
  .clerk-auth-container :global(.cl-card) {
    background: var(--color-surface-dark, #12151A) !important;
    border: 2px solid var(--color-border-light, #2A2A2A) !important;
    box-shadow: 8px 8px 0 0 rgba(0, 0, 0, 0.5) !important;
  }

  .clerk-auth-container :global(.cl-headerTitle) {
    color: var(--color-text-primary, #FAFAFA) !important;
    font-family: 'Bebas Neue', sans-serif !important;
    letter-spacing: 0.1em !important;
  }

  .clerk-auth-container :global(.cl-headerSubtitle) {
    color: var(--color-text-secondary, #A3A3A3) !important;
    font-family: 'Space Mono', monospace !important;
  }

  .clerk-auth-container :global(.cl-formButtonPrimary) {
    background: var(--color-primary-accent, #FF4D00) !important;
    border: none !important;
    font-family: 'Bebas Neue', sans-serif !important;
    letter-spacing: 0.1em !important;
    text-transform: uppercase !important;
  }

  .clerk-auth-container :global(.cl-formButtonPrimary:hover) {
    background: #e64400 !important;
    box-shadow: 4px 4px 0 0 rgba(255, 77, 0, 0.3) !important;
    transform: translate(-2px, -2px) !important;
  }

  .clerk-auth-container :global(.cl-formFieldInput) {
    background: var(--color-primary-bg, #0A0C10) !important;
    border: 2px solid var(--color-border-light, #2A2A2A) !important;
    color: var(--color-text-primary, #FAFAFA) !important;
    font-family: 'Space Mono', monospace !important;
  }

  .clerk-auth-container :global(.cl-formFieldInput:focus) {
    border-color: var(--color-primary-accent, #FF4D00) !important;
    box-shadow: none !important;
  }

  .clerk-auth-container :global(.cl-footerActionLink) {
    color: var(--color-primary-accent, #FF4D00) !important;
  }

  .clerk-auth-container :global(.cl-dividerLine) {
    background: var(--color-border-light, #2A2A2A) !important;
  }

  .clerk-auth-container :global(.cl-dividerText) {
    color: var(--color-text-muted, #525252) !important;
    font-family: 'Space Mono', monospace !important;
  }

  .clerk-auth-container :global(.cl-socialButtonsBlockButton) {
    background: var(--color-surface-elevated, #1A1E26) !important;
    border: 2px solid var(--color-border-light, #2A2A2A) !important;
    color: var(--color-text-primary, #FAFAFA) !important;
  }

  .clerk-auth-container :global(.cl-socialButtonsBlockButton:hover) {
    background: var(--color-surface-dark, #12151A) !important;
    border-color: var(--color-primary-accent, #FF4D00) !important;
  }
</style>
